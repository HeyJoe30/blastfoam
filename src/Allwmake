#!/bin/sh
cd "${0%/*}" || exit                                # Run from this directory
. "${WM_PROJECT_DIR:?}"/wmake/scripts/AllwmakeParseArguments

#------------------------------------------------------------------------------

wmake $targetType finiteVolume
wmake $targetType diameterModels
wmake $targetType thermodynamicModels
# wmake $targetType MomentumTransportModels
# wmake $targetType ThermophysicalTransportModels
wmake $targetType radiationModels
wmake $targetType fluxSchemes
wmake $targetType compressibleSystem
wmake $targetType dynamicMesh

# lagrangian/Allwmake $targetType $*

wmake $targetType functionObjects

wmake $targetType errorEstimators
wmake $targetType dynamicFvMesh

wmake $targetType atmosphereModels
wmake $targetType solidModels

if [ -z "$QBMM_INST_DIR" ]
then
    echo "**************************************************"
    echo "    QBMM_INST_DIR has not been defined."
    echo "    QBMM classes will not be compiled."
    echo "    Please add \"export QBMM_INST_DIR=QBMM_DIR\""
    echo "    to you .bashrc file, before sourcing blastfoam"
    echo "**************************************************"
elif [ ! -d "$QBMM_INST_DIR" ]
then
    echo "**************************************************"
    echo "    $QBMM_INST_DIR is not a valid directory."
    echo "    QBMM classes will not be compiled."
    echo "**************************************************"
else
    wmake $targetType QBMM
fi

# -----------------------------------------------------------------------------

